"use strict";var clickAways=Array.from(document.querySelectorAll('[data-click-away="true"]')),controls=Array.from(document.querySelectorAll("[class*=-control]")),panels=Array.from(document.querySelectorAll("[class*=-panel]"));clickAways.forEach(function(t){for(var e=t.getAttribute("aria-controls"),c=t.getAttribute("class").split(" "),a=0;a<c.length;a++)c[a]=c[a].split("-");var s="."+(c=[].concat.apply([],c))[c.indexOf("control")-1]+"-wrapper";t.classList.add("click-away"),document.querySelector("#"+e).classList.add("click-away"),null!=document.querySelector("#"+e).closest(s)&&document.querySelector("#"+e).closest(s).classList.add("click-away")}),controls.forEach(function(p){p.addEventListener("click",function(t){t.stopPropagation();for(var e=this.getAttribute("class").split(" "),c=0;c<e.length;c++)e[c]=e[c].split("-");e=[].concat.apply([],e);function a(){document.querySelectorAll(".click-away.active").forEach(function(t){t.classList.remove("active"),t.setAttribute("aria-expanded","false")}),document.body.classList.remove("body-scroll-lock")}var s=this.classList.contains("active"),i=this.getAttribute("aria-controls"),o=document.querySelector("#"+i),l=o.querySelectorAll("[class*=-close]"),r="."+e[e.indexOf("control")-1]+"-wrapper",n=o.closest(r),d=this.dataset.control,u=this.dataset.clickAway,v=this.dataset.scrollLock;a();document.body.addEventListener("click",function(){u&&a()});function y(){p.classList.remove("active"),p.setAttribute("aria-expanded","false"),o.classList.remove("active"),null!==n&&n.classList.remove("active"),document.body.classList.remove("body-scroll-lock")}var f;f=window.innerWidth,window.addEventListener("resize",function(){window.innerWidth!==f&&"true"===u&&a()});"true"===v&&document.body.classList.toggle("body-scroll-lock"),"toggle"===d&&(s?y():(p.classList.add("active"),p.setAttribute("aria-expanded","true"),o.classList.add("active"),null!==n&&n.classList.add("active"),document.onkeydown=function(t){"Escape"!==(t=t||window.event).key&&"Esc"!==t.key||y()},panels.forEach(function(t){t.addEventListener("click",function(t){t.stopPropagation()})}),l.forEach(function(t){t.addEventListener("click",function(){y()})}))),"tab"===d&&(this.classList.contains("active")||(a(),function(){for(var t=n.querySelectorAll(".active"),e=0;e<t.length;e++)t[e].classList.remove("active"),t[e].setAttribute("aria-expanded","false")}(),this.classList.add("active"),this.setAttribute("aria-expanded","true"),o.classList.add("active")))})});
//# sourceMappingURL=activator.js.map
